****************************************
LANGUAGE
****************************************

-------------------------------------
#premain ?
-------------------------------------
var lazy evaluation ?
-------------------------------------
callable
https://github.com/apple/swift-evolution/blob/master/proposals/0216-dynamic-callable.md
impl AA
{
	func opCall(...)
	{
	}
}
var x: AA
x(10) => x.opCall(10)
-------------------------------------
loop increment ? loop reverse ?
-------------------------------------
is ?
if a is < 2 and > 3
if a is s32
if a is "toto"
if a is in 2..6
-------------------------------------
not au lieu de ! ?
-------------------------------------
`return au lieu de swag.noreturn ?
-------------------------------------
code en tant que vrai type ?
x := #code a := 6
#mixin x
var v: Array'code
v.add(#code a := 5)
v.add(#code @print(a))
#mixin v[0]
#mixin v[1]
-------------------------------------
[*] type (pointeur sur zone mémoire, et pas sur element)
-------------------------------------



****************************************
STRANGE
****************************************

- Syntax étrange macro & alias : Utf8.visitRunes(|r| str)
- tuple, {x, y: s32} pas possible, car 'x' peut être un type seul {s32, x: s32}
- lambda, on peut pas mettre de noms aux paramètres x: func(x, y: s32)




****************************************
TODO
****************************************

-------------------------------------
lambda short form in declaration var x: func(s32) = @(x) {}
-------------------------------------
context & tempallocator, y'a vraiment aucun usage dans std, c'est pas normal, faut se pencher sur l'utilisation de ce truc
-------------------------------------
pb des mixin globaux et des declarations #code
-------------------------------------
erreur si opDrop est privé et la struct publique (on doit exporter)
-------------------------------------
on doit exporter les implementation d'interface pour un truc public ?
-------------------------------------
PB du cross compile avec le full compile time exec. BIG BIG BIG !!!
-------------------------------------
foreign a cvarargs
-------------------------------------
debugger : print divers (memoire ?)
-------------------------------------
cast interface vers struct (avec safety)
-------------------------------------
x64/llvm debug
- mettre les constants, les enums (void CodeViewDebug::emitStaticConstMemberList())
-------------------------------------
llvm debug, pas à jour
- variables local en #[Swag.global]
-------------------------------------




****************************************
OPTIMS
****************************************

-------------------------------------
passer en switch/case sur ip[0].op les fonction d'optim (et pas pleins de if à ralonge, ça prend du temps !)
-------------------------------------
x64 binaryop div, transformer en shift si log2
-------------------------------------
BinOpModuloS32/div immediate mode
-------------------------------------
x64 emit_BinOpInt32/64 etc.. faire un mode immediat pour le côté droit 'and cl, 5'
-------------------------------------
Mul64byVB64 a deux registres ! (binOpPlus/Minus inc pointer)
-------------------------------------
passer/retourner des structs par value si <= 64 bits
-------------------------------------
detecter les exit (ret) de fonctions dupliquées et faire des jumps (reduction code size)
-------------------------------------
x64: et si les premiers registres étaient des vrais registres x64 volatiles plutot que des accès indirects à la mémoire ?
rc[0] = r12 etc... chiant
-------------------------------------
