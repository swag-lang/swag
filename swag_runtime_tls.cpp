#include "swag_runtime.h"
#include "libc/libc.h"

SwagProcessInfos g_SwagProcessInfos;

/////////////////////////////////////////////////////////////////////////////////////////////
EXTERN_C SwagU64 swag_runtime_tlsAlloc()
{
#ifdef _WIN32
    return TlsAlloc();
#endif
}

/////////////////////////////////////////////////////////////////////////////////////////////
EXTERN_C void swag_runtime_tlsSetValue(SwagU64 id, void* value)
{
#ifdef _WIN32
    TlsSetValue((SwagU32) id, value);
#endif
}

/////////////////////////////////////////////////////////////////////////////////////////////
EXTERN_C void* swag_runtime_tlsGetValue(SwagU64 id)
{
#ifdef _WIN32
    return TlsGetValue((SwagU32) id);
#endif
}

/////////////////////////////////////////////////////////////////////////////////////////////
EXTERN_C void swag_runtime_setProcessInfos(SwagProcessInfos* infos)
{
    g_SwagProcessInfos = *infos;
}
