#global #[swag.safety("of", false)]
#global skip
using core

struct Test
{
	in:   s64
	base: int
	out:  string
}

const tests: [] Test = @[
	/*{0, 10, "0"},
	{1, 10, "1"},
	{-1, 10, "-1"},
	{12345678, 10, "12345678"},
	{-987654321, 10, "-987654321"},
	{(1<<31) - 1, 10, "2147483647"},
	{(-1's64<<31) + 1, 10, "-2147483647"},
	{1 << 31, 10, "2147483648"},*/
	{-1 << 31, 10, "-2147483648"},
	/*{(1's64<<31) + 1, 10, "2147483649"},
	{(-1<<31) - 1, 10, "-2147483649"},
	{(1's64<<32) - 1, 10, "4294967295"},
	{(-1's64<<32) + 1, 10, "-4294967295"},
	{1's64 << 32, 10, "4294967296"},
	{-1's64 << 32, 10, "-4294967296"},
	{(1's64<<32) + 1, 10, "4294967297"},
	{(-1's64<<32) - 1, 10, "-4294967297"},
	{1's64 << 50, 10, "1125899906842624"},
	{(1's64<<63) - 1, 10, "9223372036854775807"},
	{(-1's64<<63) + 1, 10, "-9223372036854775807"},
	{-1's64 << 63, 10, "-9223372036854775808"},*/
]

#test
{
    visit c: tests
    {
        switch c.base
        {
        case 10:
            (value, eat) := strconv.parseS64(c.out)
            if(value != c.in)
            {
                console.print("XXXXXXXXX value: % in: % out: %\n", value, c.in, c.out)
                return
            }
        }
    }
}