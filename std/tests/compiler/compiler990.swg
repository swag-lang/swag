using swag

#[attributeUsage(AttributeUsage.Field)]
attr NC1();

struct Point
{
	#[NC1]
	x: s32
	
	#[NC1]
	y: s32
}

//#[swag.printbc]
#test
{
	t := cast(const *TypeInfoStruct) @typeof(Point)
	@assert(@countof(t.fields) == 2)
	
	loop t.fields
	{
		p := cast(const *TypeInfoParam) t.fields[@index]
		@assert(p.namedParam == (@index == 0 ? "x" : "y"))
		@assert(@countof(p.attributes) == 1)
		@assert(p.attributes[0].item0 == "compiler990.NC1")
	}
}
